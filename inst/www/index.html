<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <title>Test pica</title>
  
   <!-- Include order: first jquery, then opencpu.js, and then your code -->
    <script src="//code.jquery.com/jquery-1.10.2.min.js"></script> 
    <script src="//www.opencpu.org/js/archive/opencpu-0.4.js"></script>
    <script>
      $(document).ready(function(){
      $("#valeursubmit").on("click", function(){
        //disable the button to prevent multiple clicks
        $("#valeursubmit").attr("disabled", "disabled");
        
        //read the value for 'myname'
        var valeur = $("#namefield").val();
        console.log(valeur);
        //perform the request
        ocpu.seturl("../R");
        var req = ocpu.rpc("Calcul_fourmis_distance", {
        }, function(output){          
          console.log(output);
        });
        
        //if R returns an error, alert the error message
        req.fail(function(){
          alert("Server error: " + req.responseText);
        });
        
        //after request complete, re-enable the button 
        req.always(function(){
          $("#valeursubmit").removeAttr("disabled")
        });
      });
    });
    </script>

  </head>

  <body>
    <form>
      <b>Guilhem, donne-moi un nombre : </b> <input type="number" id="namefield" value="0">
      <button type="submit" id="valeursubmit" class="btn btn-default">Soumettre</button>
   </form>
  <p id="output"></p>
</body>

</html>
